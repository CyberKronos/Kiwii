<ion-view view-title="Your Profile">
  <ion-nav-bar ng-controller="NavCtrl">
    <ion-nav-buttons side="right" style="top:none; bottom: none;">
      <button class="button button-clear text-button" ng-click="logOut()">
        Sign out
      </button>
    </ion-nav-buttons>
  </ion-nav-bar>

  <ion-content has-bouncing="false" ng-controller="ProfileCtrl" style="top: 0 !important;">
    <ion-tabs class="tabs-light">

      <ion-tab title="Lists">
        <ion-content>

          <div class="profile-background blur-image" darken
               back-img="{{currentUser.fbPicture || 'img/userBackground_placeholder.jpg'}}"></div>
          <div class="profile-top-container">
            <div class="padding-vertical">
              <img class="profile-avatar" ng-src="{{currentUser.fbPicture || 'img/user_placeholder.png'}}">
            </div>
            <p class="title padding-vertical">{{ currentUser.firstname }} {{ currentUser.lastname }}</p>
          </div>

          <div class="list list-inset"
               style="margin-top: 0px;">
            <div class="list card"
                 style="margin-left: 2px; margin-right: 2px;">
              <a class="item item-icon-right" ng-click="createList()">
                <i class="icon ion-plus-circled text-orange"></i>

                <p id="restaurant-name"><strong>Create a list</strong></p>
              </a>
            </div>
            <!-- Keep save for later list static -->
            <div class="list card"
                 style="margin-left: 2px; margin-right: 2px;">
              <a class="item item-thumbnail-left" ng-click="listDetails('saveForLater')">
                <img ng-src="{{'http://placehold.it/95x95?text=Kiwii'}}" width="100%" height="100%">

                <div class="row row-center">
                  <div class="col-90">
                    <p id="restaurant-name"><strong>Saved for later</strong></p>

                    <p id="restaurant-category">All restaurants</p>
                    <!-- <p id="restaurant-rating">3 restaurants</p> -->
                  </div>
                </div>
              </a>
            </div>
            <!-- All other user created lists -->
            <div class="list card"
                 ng-repeat="userList in userLists"
                 style="margin-left: 2px; margin-right: 2px;">
              <a class="item item-thumbnail-left" ng-click="listDetails(userList)">
                <img ng-src="{{'http://placehold.it/95x95?text=Kiwii'}}" width="100%" height="100%">

                <div class="row row-center">
                  <div class="col-90">
                    <p id="restaurant-name"><strong>{{userList.name}}</strong></p>

                    <p id="restaurant-category">All restaurants</p>
                  </div>
                </div>
              </a>
            </div>
          </div>
        </ion-content>
      </ion-tab>

      <ion-tab title="Photos">
        <ion-content>

          <div class="profile-background blur-image" darken
               back-img="{{currentUser.fbPicture || 'img/userBackground_placeholder.jpg'}}"></div>
          <div class="profile-top-container">
            <div class="padding-vertical">
              <img class="profile-avatar" ng-src="{{currentUser.fbPicture || 'img/user_placeholder.png'}}">
            </div>
            <p class="title padding-vertical">{{ currentUser.firstname }} {{ currentUser.lastname }}</p>
          </div>

          <div ng-if="!photos.length" class="text-centered">
            <div class="save-later-placeholder">
              <img src="img/restaurant_placeholder.gif">
            </div>
            <p>Start uploading photos!</p>
          </div>

          <div collection-repeat="photo in photos" style="padding:0px;" class="col col-50">
            <a ng-click="photoDetails(photo)">
              <div style="background-image:url({{photo.photo.url}});
                          background-repeat:no-repeat;
                          background-size:contain;
                          background-position:center;
                          width:100%;
                          height:0;
                          padding-top:100%">
              </div>
            </a>
          </div>

        </ion-content>
      </ion-tab>

    </ion-tabs>
  </ion-content>
</ion-view>